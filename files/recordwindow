#!/bin/bash

while getopts ":a" flag
do
    case "${flag}" in
        a)
            AUDIO="-f pulse -ac 2 -i default"
    esac
done


geometryinfo=$(slop -f "%x %y %w %h %g") || exit -1

read -r X Y W H G <<< ${geometryinfo}

ffmpeg -video_size "$(($W-1))x$((H-1))" -framerate 25 -f x11grab -i :0.0+"$X","$Y" $AUDIO output.mp4
